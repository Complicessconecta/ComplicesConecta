# Script para corregir caracteres corruptos en p√°ginas
# Reemplaza caracteres corruptos por sus equivalentes correctos

$pagesDir = "c:\Users\conej\Documents\conecta-social-comunidad-main\src\pages"
$files = Get-ChildItem -Path $pagesDir -Filter "*.tsx" -Recurse

$replacements = @{
    # Caracteres corruptos comunes
    "??" = "√≠"
    "?" = "√°"
    "?" = "√©"
    "?" = "√≥"
    "?" = "√∫"
    "?" = "√±"
    "?" = "√Å"
    "?" = "√â"
    "?" = "√ç"
    "?" = "√ì"
    "?" = "√ö"
    "?" = "√ë"
    "?" = "√º"
    "?" = "√ú"
    
    # Palabras comunes con caracteres faltantes
    "Gua" = "Gu√≠a"
    "prcticas" = "pr√°cticas"
    "Mara" = "Mar√≠a"
    "Gonzlez" = "Gonz√°lez"
    "Qu" = "Qu√©"
    "Cmo" = "C√≥mo"
    "Autntico" = "Aut√©ntico"
    "Atractivo" = "Atractivo"
    "mximo" = "m√°ximo"
    "exclusiva" = "exclusiva"
    "novedades" = "novedades"
    "Experiencia" = "Experiencia"
    "Social" = "Social"
    "Premium" = "Premium"
    "Verificacin" = "Verificaci√≥n"
    "Biomtrica" = "Biom√©trica"
    "Encriptacin" = "Encriptaci√≥n"
    "Cumplimiento" = "Cumplimiento"
    "Moderacin" = "Moderaci√≥n"
    "Deteccin" = "Detecci√≥n"
    "Fraude" = "Fraude"
    "Equipo" = "Equipo"
    "Moderadores" = "Moderadores"
    "Especializados" = "Especializados"
    "Relaciones" = "Relaciones"
    "nete" = "√önete"
    "Estadsticas" = "Estad√≠sticas"
    "Logros" = "Logros"
    "Nmeros" = "N√∫meros"
    "Versin" = "Versi√≥n"
    "Actual" = "Actual"
    "Tablas" = "Tablas"
    "Base" = "Base"
    "Datos" = "Datos"
    "Tests" = "Tests"
    "Pasando" = "Pasando"
    "Nativo" = "Nativo"
    "Seguridad" = "Seguridad"
    "Privacidad" = "Privacidad"
    "Compromiso" = "Compromiso"
    "AES-GCM" = "AES-GCM"
    "Grado" = "Grado"
    "Empresarial" = "Empresarial"
    "Protegidos" = "Protegidos"
    "Cifrado" = "Cifrado"
    "Militar" = "Militar"
    "Certificados" = "Certificados"
    "Proteccin" = "Protecci√≥n"
    "Europea" = "Europea"
    "Mexicana" = "Mexicana"
    "Hbrido" = "H√≠brido"
    "Documento" = "Documento"
    "Oficial" = "Oficial"
    "Selfie" = "Selfie"
    "Telefnica" = "Telef√≥nica"
    "Avanzada" = "Avanzada"
    "Identificar" = "Identificar"
    "Perfiles" = "Perfiles"
    "Falsos" = "Falsos"
    "Comportamiento" = "Comportamiento"
    "Sospechoso" = "Sospechoso"
    "Humanos" = "Humanos"
    "Lifestyle" = "Lifestyle"
    "Listo" = "Listo"
    "Conectar" = "Conectar"
    "Creciente" = "Creciente"
    "Comunidad" = "Comunidad"
    "Construyendo" = "Construyendo"
    "Especial" = "Especial"
    "Juntos" = "Juntos"
    "Crear" = "Crear"
    "Cuenta" = "Cuenta"
    "Gratis" = "Gratis"
    "Contactar" = "Contactar"
    "Soporte" = "Soporte"
    "Misin" = "Misi√≥n"
    "Visin" = "Visi√≥n"
    "Valores" = "Valores"
    "Nuestros" = "Nuestros"
    "Espacio" = "Espacio"
    "Seguro" = "Seguro"
    "Parejas" = "Parejas"
    "Solteros" = "Solteros"
    "Conectar" = "Conectar"
    "Manera" = "Manera"
    "Autntica" = "Aut√©ntica"
    "Explorando" = "Explorando"
    "Nuevas" = "Nuevas"
    "Experiencias" = "Experiencias"
    "Total" = "Total"
    "Discrecin" = "Discreci√≥n"
    "Respeto" = "Respeto"
    "Mutuo" = "Mutuo"
    "Convertirnos" = "Convertirnos"
    "Plataforma" = "Plataforma"
    "Confiable" = "Confiable"
    "Reconocida" = "Reconocida"
    "Brindar" = "Brindar"
    "Ambiente" = "Ambiente"
    "Tecnologa" = "Tecnolog√≠a"
    "Moderna" = "Moderna"
    "Compromiso" = "Compromiso"
    "Usuarios" = "Usuarios"
    "Sistema" = "Sistema"
    "Verificacin" = "Verificaci√≥n"
    "Usuarios" = "Usuarios"
    "Datos" = "Datos"
    "Personales" = "Personales"
    "Cdigos" = "C√≥digos"
    "tica" = "√âtica"
    "Bien" = "Bien"
    "Definidos" = "Definidos"
    "Algoritmo" = "Algoritmo"
    "Avanzado" = "Avanzado"
    "Segn" = "Seg√∫n"
    "Compatibilidad" = "Compatibilidad"
    "Preferencias" = "Preferencias"
    "Autenticacin" = "Autenticaci√≥n"
    "Facial" = "Facial"
    "Huella" = "Huella"
    "Digital" = "Digital"
    "Mintados" = "Mintados"
    "Tokens" = "Tokens"
    "Deteccin" = "Detecci√≥n"
    "Consentimiento" = "Consentimiento"
    "Chats" = "Chats"
    "Graphs" = "Graphs"
    "Conexiones" = "Conexiones"
    "Friends" = "Friends"
    "Emocionales" = "Emocionales"
    "Eventos" = "Eventos"
    "Virtuales" = "Virtuales"
    "Sostenibles" = "Sostenibles"
    "Recompensas" = "Recompensas"
    "CMPX" = "CMPX"
    "Historias" = "Historias"
    "Efmeras" = "Ef√≠meras"
    "Comparte" = "Comparte"
    "Momentos" = "Momentos"
    "Desaparecen" = "Desaparecen"
    "Horas" = "Horas"
    "Galeras" = "Galer√≠as"
    "NFT" = "NFT"
    "Verificadas" = "Verificadas"
    "Mintados" = "Mintados"
    "GTK" = "GTK"
    "Verificador" = "Verificador"
    "Predictivo" = "Predictivo"
}

Write-Host "üîß Iniciando correcci√≥n de caracteres corruptos..." -ForegroundColor Cyan
$fixedCount = 0

foreach ($file in $files) {
    $content = Get-Content -Path $file.FullName -Encoding UTF8 -Raw
    $originalContent = $content
    
    foreach ($key in $replacements.Keys) {
        if ($content -match [regex]::Escape($key)) {
            $content = $content -replace [regex]::Escape($key), $replacements[$key]
            Write-Host "  ‚úì Corregido en $($file.Name): '$key' ‚Üí '$($replacements[$key])'" -ForegroundColor Green
        }
    }
    
    if ($content -ne $originalContent) {
        Set-Content -Path $file.FullName -Value $content -Encoding UTF8
        $fixedCount++
    }
}

Write-Host "‚úÖ Correcci√≥n completada: $fixedCount archivos actualizados" -ForegroundColor Green
